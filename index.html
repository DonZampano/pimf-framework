<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>PIMF by gjerokrsteski</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>PIMF</h1>
        <h2>Micro framework for PHP that emphasises minimalism and simplicity</h2>
        <a href="https://github.com/gjerokrsteski/pimf" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>Welcome to PIMF</h2>

<p>Have you ever wished a PHP framework that perfectly adapts to your projects needs, your programming experience and your customers budget? A thin PHP framewrok with less implementing rools and easy to learn how to use it? PIMF is about to satisfy your demands!</p>

<p><a href="http://travis-ci.org/gjerokrsteski/pimf"><img src="https://secure.travis-ci.org/gjerokrsteski/pimf.png?branch=master" alt="Build Status"></a></p>

<h2>PIMF principles</h2>

<p>A good and robust business-logic is better that fat and complex framework. Most of the PHP framewroks are bigger than your problem. At all you need less than 20% of the functionality of the framework to solve you problem. Therefore we belive that the “right” 20% of the effort is the 80% of the results - and that is PIMF.</p>

<h2>Behind PIMF</h2>

<p>Actually we created PIMF for personal use. The aim was to create robust and secure projects and deliver them fast. We wanted just one easy framewrok, who can be used once for all  our projects. And than - PIMF was born!</p>

<p>PIMFs implementation is based on well proved design patterns as well as fast objects relation mapping mechanism - like famous PHP frameworks had. The architecture is designed upgrade friendly - so you can upgrade to newer versions without to override your projects. And for all of you out there, who like to create rich application interfaces with ExtJs or Dojo - we have created mechanism to couple your GUI to the controllers in a easy and fast way.</p>

<h3>Installation</h3>

<p><strong>Step 1.</strong> Download PIMF</p>

<div class="highlight"><pre><span class="nx">git</span> <span class="k">clone</span> <span class="o">--</span><span class="nx">recursive</span> <span class="nx">https</span><span class="o">://</span><span class="nx">github</span><span class="o">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">gjerokrsteski</span><span class="o">/</span><span class="nx">pimf</span><span class="o">.</span><span class="nx">git</span>
</pre></div>

<p><strong>Step 2.</strong> Extract the PIMF archive and upload the contents to your web server.</p>

<p><strong>Step 3.</strong> Open the config.php file and set</p>

<div class="highlight"><pre><span class="s1">'environment'</span> <span class="o">=&gt;</span> <span class="s1">'production'</span>
<span class="s1">'local_temp_directory'</span> <span class="o">=&gt;</span> <span class="s1">'/tmp/'</span> <span class="c1">//if necessary</span>
</pre></div>

<p><strong>Step 4.</strong> Create at your local temp directory the files <strong>pimf-logs.txt</strong>, <strong>pimf-warnings.txt</strong>, <strong>pimf-errors.txt</strong> and verify that they are writable.</p>

<p><strong>Step 5.</strong> Navigate to your application in a web browser.</p>

<p>If all is well, you should see a pretty PIMF splash page. Get ready - there is lot more to learn!</p>

<h3>Basic configuration</h3>

<p>The entire configuration provided is located in your applications config.php file. We recommend that you read through these files just to get a basic understanding of the options available to you. The file as it contains the basic configuration options for your application.</p>

<h3>Database connection configuration</h3>

<p>PIMF supports the following databases:</p>

<ul>
<li>SQLite</li>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>SQL Server</li>
</ul><p>All of the database configuration options live in the config.php file.</p>

<h3>Quick start using SQLite</h3>

<p>SQLite is an awesome, zero-configuration database system. By default, PIMF is configured to use a SQLite database. Really, you don't have to change anything. Just drop a SQLite database named blog-production.db into the 'app/MyFirstBlog/_database/ ' directory. You're done.
Of course, if you want to name your database something besides "application", you can modify the database option in the SQLite section of the config.php file:</p>

<div class="highlight"><pre>  <span class="s1">'production'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'db'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'driver'</span> <span class="o">=&gt;</span> <span class="s1">'sqlite'</span><span class="p">,</span>
      <span class="s1">'database'</span> <span class="o">=&gt;</span> <span class="s1">'app/MyFirstBlog/_database/blog-production.db'</span>
    <span class="p">),</span>
  <span class="p">),</span>
</pre></div>

<p>If your application receives less than 100,000 hits per day, SQLite should be suitable for production use in your application. Otherwise, consider using MySQL or PostgreSQL.</p>

<h3>Configuring other databases</h3>

<p>If you are using MySQL, SQL Server or PostgreSQL, you will need to edit the configuration options in config.php. In the configuration file you can find sample configurations for each of these systems. Just change the options as necessary for your server and set the default connection name.</p>

<h3>Overwriting the default PDO options</h3>

<p>The PDO connectors (core/Pimf/Pdo/) has a set of default PDO attributes defined which can be overwritten in the options array for each system. For example, one of the default attributes is to force column names to lowercase (PDO::CASE_LOWER) even if they are defined in UPPERCASE or CamelCase in the table. Therefore, under the default attributes, query result object variables would only be accessible in lowercase.</p>

<p>An example of the MySQL system settings with added default PDO attributes:</p>

<div class="highlight"><pre>  <span class="s1">'db'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'driver'</span>                    <span class="o">=&gt;</span> <span class="s1">'mysql'</span><span class="p">,</span>
    <span class="s1">'host'</span>                      <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'database'</span>                  <span class="o">=&gt;</span> <span class="s1">'database'</span><span class="p">,</span>
    <span class="s1">'username'</span>                  <span class="o">=&gt;</span> <span class="s1">'root'</span><span class="p">,</span>
    <span class="s1">'password'</span>                  <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'charset'</span>                   <span class="o">=&gt;</span> <span class="s1">'utf8'</span><span class="p">,</span>
    <span class="s1">'prefix'</span>                    <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'options'</span>                   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_CASE</span>              <span class="o">=&gt;</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">CASE_LOWER</span><span class="p">,</span>
      <span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span>           <span class="o">=&gt;</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">,</span>
      <span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ORACLE_NULLS</span>      <span class="o">=&gt;</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">NULL_NATURAL</span><span class="p">,</span>
      <span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_STRINGIFY_FETCHES</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
      <span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_EMULATE_PREPARES</span>  <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="p">),</span>
</pre></div>

<p>More about the PDO connection attributes can be found in the PHP manual.</p>

<h3>Creating new project</h3>

<ul>
<li>go to the "app" directory and create a new subdirectory for example "My First Blog"</li>
</ul><div class="highlight"><pre>|-- app/
|   `-- MyFirstBlog/
|       |-- Controller/
</pre></div>

<h3>Creating new controller</h3>

<ul>
<li>go to "app/MyFirstBlog/" and create a new subdirectory "Controller" - the directory name is strict convention.</li>
<li>create new PHP file with name for example "Blog.php" into directory  "app/MyFirstBlog/Controller/"</li>
<li>the file "Blog.php" has to have strict class name like "MyFirstBlog_Controller_Blog" and has to extend "Pimf_Controller_Abstract"</li>
<li>create new method action for example "indexAction()"</li>
<li>optionally you can implement the method "init()" - it will be triggered before any action of the controller is executed.</li>
<li>call the controller-action on sending the GET "index.php?controller=blog&amp;action=index" parameters to your request</li>
</ul><div class="highlight"><pre>|-- app/
|   `-- MyFirstBlog/
|       |-- Controller/
|       |   '-- Blog.php
</pre></div>

<h3>Accessing the controller action in two ways</h3>

<ul>
<li>at the browser, by calling the controller-action on sending the GET parameters to your request</li>
</ul><div class="highlight"><pre>/index.php?controller<span class="o">=</span>blog&amp;action<span class="o">=</span>showentry
</pre></div>

<ul>
<li>at the command line interface by executing the command</li>
</ul><div class="highlight"><pre>php pimf blog:insert
</pre></div>

<p>Here you can see how they are defined at the blog-controller:</p>

<div class="highlight"><pre> <span class="k">class</span> <span class="nc">MyFirstBlog_Controller_Blog</span>
 <span class="k">extends</span> <span class="nx">Pimf_Controller_Abstract</span>
 <span class="p">{</span>
   <span class="k">public</span> <span class="k">function</span> <span class="nf">showentryAction</span><span class="p">()</span>
   <span class="p">{</span>
     <span class="c1">// ...</span>
   <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">insertCliAction</span><span class="p">()</span>
   <span class="p">{</span>
    <span class="c1">// ...</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>

<p>Maybe you wonder about that - but that is the easiest way to make some possibility for scaffolding or manipulating data without implementing a backend interface.
All methods at the controller who have the suffix "Action()" can be accessed only from the browser and methods who have the suffix "CliAction()" can be accessed only on the command line interface.
If you want to send message to you interface than throw Pimf_Controller_Exception. This will be printed out at the view.</p>

<h3>Creating new data-mapper</h3>

<ul>
<li>we recommend you to get familiar with the Data-Mapper Pattern and PHP's PDO extension. You can read more here: <a href="https://github.com/gjerokrsteski/php-identity-map">https://github.com/gjerokrsteski/php-identity-map</a>
</li>
<li>otherwise you have to go to "app/MyFirstBlog/" and create a two new subdirectories "DataMapper" and "Model" - the directories names are strict convention.</li>
<li>create new model class into directory "app/MyFirstBlog/Model/" for example with name "Entry.php" and class name "MyFirstBlog_Model_Entry"</li>
<li>create new data-mapper class into directory "app/MyFirstBlog/DataMapper/" for example with name "Entry.php" with class name "MyFirstBlog_DataMapper_Entry" by extending the class "Pimf_DataMapper_Abstract"</li>
<li>create the CRUD methods you really need at the class "MyFirstBlog_DataMapper_Entry". For better understanding how to use PDO and how to hydrate objects, read more here: <a href="https://github.com/gjerokrsteski/pimf/blob/master/app/MyFirstBlog/DataMapper/Entry.php">https://github.com/gjerokrsteski/pimf/blob/master/app/MyFirstBlog/DataMapper/Entry.php</a>
</li>
</ul><div class="highlight"><pre>|-- app/
|   `-- MyFirstBlog/
|       |-- Controller/
|       |   '-- Blog.php
|       |-- DataMapper/
|       |   '-- Entry.php
|       |-- Model/
|       |   '-- Entry.php
</pre></div>

<h3>Feature overview</h3>

<ul>
<li>Completely unit tested in PHP version 5.3 and 5.4</li>
<li>Configuration: into common and fast way - as array</li>
<li>Intelligent bootstrapping: depending on the configuration, the framework can bootstrap in testing or production mode.</li>
<li>Resolver: resolves the user requests to controller and action.</li>
<li>Controller and actions can be accessed from the browser and from the command line interface.</li>
<li>Controller:  based on the most popular design patterns for controllers.

<ul>
<li>Action naming like “public function searchAction()” convention</li>
<li>If available uses init() for pre-initializing before an action is proceeded.</li>
</ul>
</li>
<li>Request Manager: for controlled access to the global state of the world.

<ul>
<li>Can manage: POST, GET, CLI params and SERVER.</li>
<li>Avoids XSS attacks.</li>
<li>Delivers methods for retrieving all server and execution environment information.</li>
</ul>
</li>
<li>View: a simply view for sending and rendering data

<ul>
<li>JSON: can send data using predefined models</li>
<li>HTML: can bind predefined template partials "PHTML" and render them with preassigned variables</li>
</ul>
</li>
<li>Session Manager: delivers methods for save session handling.</li>
<li>Entity Manager: based on PDO it is a general manager for data persistence and object relational mapping.

<ul>
<li>Supports the following databases out of the box: MySQL, PostgreSQL, SQLite, SQL Server.</li>
<li>Loads the predefined data mappers and can manipulate data at the database.</li>
<li>Extends PDO for save transactions and can handle with multiple nested transactions.</li>
</ul>
</li>
<li>Data Mappers: for mapping the domain models to the persistence layer.

<ul>
<li>Can implement a identity map. By using Data-Mapper pattern without an identity map, you can easily run into problems because you may have more than one object that references the same domain entity.</li>
</ul>
</li>
<li>Logger: with common logging options into a file.

<ul>
<li>User has to define a temporary directory for logging - 0777.</li>
<li>Can separate log messages to errors, warnings, debugging, info.</li>
<li>If php’s display errors is off, so only errors will be logged = production.</li>
</ul>
</li>
<li>Util Farm: a bunch of useful and proved utilities, making our programmers live easier.

<ul>
<li>Serializer - supports igbinary if activated, for fast serialization.</li>
<li>Class Properties Types Insurer</li>
<li>XML Convertiner - XML to DOMDocument or SimpleXMLElement or to Array.</li>
<li>Memoryusage</li>
<li>Message Formater</li>
<li>UUID Generator</li>
<li>String Util Methods</li>
<li>Identifier Generator</li>
<li>Enum Manager - gives the ability to emulate and create enumeration objects natively in PHP.</li>
<li>Validation: fast and secure validators for common data types.</li>
<li>Filtering: tainted data filtering.</li>
<li>Fluent: creates ad-hoc object as data container, using fluent interface, for any purpose you need.</li>
</ul>
</li>
</ul><h3>PIMF on GitHub</h3>

<p>Because PIMF's development and source control is done through GitHub, anyone is able to make contributions to it. Anyone can fix bugs and add features. After submitting proposed changes to the project, the PIMF team will review the changes and make the decision to commit them to PIMF's core.</p>

<h4>Repositories</h4>

<p>PIMF's home on GitHub is at <a href="https://github.com/gjerokrsteski/pimf">https://github.com/gjerokrsteski/pimf</a>. PIMF has several repositories. For basic contributions, the only repository you need to pay attention to is the pimf repository, located at <a href="https://github.com/gjerokrsteski/pimf">https://github.com/gjerokrsteski/pimf</a>.</p>

<h4>Branches</h4>

<p>The pimf repository has multiple branches, each serving a specific purpose:</p>

<ul>
<li>master - This is the PIMF release branch. Active development does not happen on this branch. This branch is only for the most recent, stable PIMF core code. When you download PIMF from <a href="https://github.com/gjerokrsteski/pimf/downloads">https://github.com/gjerokrsteski/pimf/downloads</a>, you are downloading directly from this master branch. Do not make pull requests to this branch.</li>
<li>develop - This is the working development branch. All proposed code changes and contributions by the community are pulled into this branch. When you make a pull request to the PIMF project, this is the branch you want to pull-request into.
Once certain milestones have been reached and/or the PIMF team is happy with the stability and additional features of the current development branch, the changes in the develop branch are pulled into the master branch, thus creating and releasing the newest stable version of PIMF for the world to use.</li>
</ul><h4>Pull Requests</h4>

<p>GitHub pull requests are a great way for everyone in the community to contribute to the PIMF codebase. Found a bug? Just fix it in your fork and submit a pull request. This will then be reviewed  and if found as good, merged into the main repository.</p>

<p>In order to keep the codebase clean, stable and at high quality, even with so many people contributing, some guidelines are necessary for high-quality pull requests:</p>

<ul>
<li>Branch: Unless they are immediate documentation fixes relevant for old versions, pull requests should be sent to the develop branch only. Make sure to select that branch as target when creating the pull request (GitHub will not automatically select it.)</li>
<li>Documentation: If you are adding a new feature or changing the API in any relevant way, this should be documented. The documentation files can be found directly in the core repository.</li>
<li>Unit tests: To keep old bugs from re-appearing and generally hold quality at a high level, the PIMF core is thoroughly unit-tested. Thus, when you create a pull request, it is expected that you unit test any new code you add. For any bug you fix, you should also add regression tests to make sure the bug will never appear again. If you are unsure about how to write tests, the core team or other contributors will gladly help.</li>
</ul><h3>Contributing to PIMF via command-line</h3>

<p>This tutorial explains the basics of contributing to a project on GitHub via the command-line. Read more here: <a href="http://krsteski.de/pimf/contributing-to-pimf-via-command-line.html">http://krsteski.de/pimf/contributing-to-pimf-via-command-line.html</a></p>

<h3>Support or contact</h3>

<p>Having trouble with PIMF? Check out the documentation here or contact <a href="mailto:gjero@krsteski.de">gjero@krsteski.de</a> and we’ll help you sort it out.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/gjerokrsteski/pimf/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/gjerokrsteski/pimf/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/gjerokrsteski/pimf"></a> is maintained by <a href="https://github.com/gjerokrsteski">gjerokrsteski</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-37953040-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>